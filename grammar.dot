# <cols> a list of columns
# <source> a table or subquery

digraph my_graph {
    START;
    SELECT [label=SELECT];
    SELECT_TARGET [label=cols];
    FROM [label=FROM];
    DISTINCT [label=DISTINCT];
    ALL [label=ALL];
    FROM_TARGET [label=source];
    WHERE [label=WHERE];
    WHERE_TARGET [label=expr];
    GROUPBY [label=GROUP_BY];
    GROUPBY_TARGET [label=cols];
    HAVING [label=HAVING];
    HAVING_TARGET [label=expr];
    END;

    START -> SELECT;
    SELECT -> SELECT_TARGET;
    SELECT -> DISTINCT -> SELECT_TARGET;
    SELECT -> ALL -> SELECT_TARGET;
        SELECT_TARGET -> FROM
        SELECT_TARGET -> WHERE;
        SELECT_TARGET -> GROUPBY;

    FROM -> FROM_TARGET;
        FROM_TARGET -> END;
        FROM_TARGET -> GROUPBY;
        FROM_TARGET -> WHERE;

    WHERE -> WHERE_TARGET;
        WHERE_TARGET -> GROUPBY;
        WHERE_TARGET -> END;

    GROUPBY -> GROUPBY_TARGET;
        GROUPBY_TARGET -> HAVING -> HAVING_TARGET -> END;
}
